{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Raul/Desktop/Portif\\xF3lio/Raulcezarsantos/netflix/netflixclone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Raul/Desktop/Portif\\xF3lio/Raulcezarsantos/netflix/netflixclone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Raul/Desktop/Portif\\xF3lio/Raulcezarsantos/netflix/netflixclone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import ReactPlayer from\"react-player\";import movieTrailer from\"movie-trailer\";import{getMovies}from\"../api\";import\"./Row.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var imageHost=\"https://image.tmdb.org/t/p/original/\";function Row(_ref){var title=_ref.title,path=_ref.path,isLarge=_ref.isLarge;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),movies=_React$useState2[0],setMovies=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),trailerUrl=_React$useState4[0],setTrailerUrl=_React$useState4[1];var handleOnClick=function handleOnClick(movie){if(trailerUrl){setTrailerUrl(\"\");}else{movieTrailer(movie.title||movie.name||movie.original_name||\"\").then(function(url){setTrailerUrl(url);}).catch(function(error){console.log(\"Error fetching movie trailer: \",error);});}};var fetchMovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_path){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getMovies(_path);case 3:data=_context.sent;console.log(\"data \",data);setMovies(data===null||data===void 0?void 0:data.results);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"fetchMovies error: \",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchMovies(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchMovies(path);},[path]);return/*#__PURE__*/_jsxs(\"div\",{className:\"row-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"row-header\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"row-cards\",children:movies===null||movies===void 0?void 0:movies.map(function(movie){return/*#__PURE__*/_jsx(\"img\",{className:\"movie-card \".concat(isLarge&&\"movie-card-large\"),onClick:function onClick(){return handleOnClick(movie);},src:\"\".concat(imageHost).concat(isLarge?movie.backdrop_path:movie.poster_path),alt:movie.name},movie.id);})}),trailerUrl&&/*#__PURE__*/_jsx(ReactPlayer,{url:trailerUrl,playing:true})]});}export default Row;","map":{"version":3,"names":["React","useEffect","ReactPlayer","movieTrailer","getMovies","imageHost","Row","title","path","isLarge","useState","movies","setMovies","trailerUrl","setTrailerUrl","handleOnClick","movie","name","original_name","then","url","catch","error","console","log","fetchMovies","_path","data","results","map","backdrop_path","poster_path","id"],"sources":["C:/Users/Raul/Desktop/PortifÃ³lio/Raulcezarsantos/netflix/netflixclone/src/components/Row.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport movieTrailer from \"movie-trailer\";\r\nimport { getMovies } from \"../api\";\r\nimport \"./Row.css\";\r\n\r\nconst imageHost = \"https://image.tmdb.org/t/p/original/\";\r\nfunction Row({ title, path, isLarge }) {\r\n  const [movies, setMovies] = React.useState([]);\r\n  const [trailerUrl, setTrailerUrl] = React.useState(\"\");\r\n  const handleOnClick = (movie) => {\r\n    if (trailerUrl) {\r\n      setTrailerUrl(\"\");\r\n    } else {\r\n      movieTrailer(movie.title || movie.name || movie.original_name || \"\")\r\n        .then((url) => {\r\n          setTrailerUrl(url);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error fetching movie trailer: \", error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const fetchMovies = async (_path) => {\r\n    try {\r\n      const data = await getMovies(_path);\r\n      console.log(\"data \", data);\r\n      setMovies(data?.results);\r\n    } catch (error) {\r\n      console.log(\"fetchMovies error: \", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMovies(path);\r\n  }, [path]);\r\n\r\n  return (\r\n    <div className=\"row-container\">\r\n      <h2 className=\"row-header\">{title}</h2>\r\n      <div className=\"row-cards\">\r\n        {movies?.map((movie) => {\r\n          return (\r\n            <img\r\n              className={`movie-card ${isLarge && \"movie-card-large\"}`}\r\n              onClick={() => handleOnClick(movie)}\r\n              key={movie.id}\r\n              src={`${imageHost}${\r\n                isLarge ? movie.backdrop_path : movie.poster_path\r\n              }`}\r\n              alt={movie.name}\r\n            ></img>\r\n          );\r\n        })}\r\n      </div>\r\n      {trailerUrl && <ReactPlayer url={trailerUrl} playing={true} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Row;"],"mappings":"0eAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,YAAW,KAAM,cAAc,CACtC,MAAOC,aAAY,KAAM,eAAe,CACxC,OAASC,SAAS,KAAQ,QAAQ,CAClC,MAAO,WAAW,CAAC,wFAEnB,GAAMC,UAAS,CAAG,sCAAsC,CACxD,QAASC,IAAG,MAA2B,IAAxBC,MAAK,MAALA,KAAK,CAAEC,IAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CACjC,oBAA4BT,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,oDAAvCC,MAAM,qBAAEC,SAAS,qBACxB,qBAAoCZ,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,qDAA/CG,UAAU,qBAAEC,aAAa,qBAChC,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAAK,CAAK,CAC/B,GAAIH,UAAU,CAAE,CACdC,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,IAAM,CACLX,YAAY,CAACa,KAAK,CAACT,KAAK,EAAIS,KAAK,CAACC,IAAI,EAAID,KAAK,CAACE,aAAa,EAAI,EAAE,CAAC,CACjEC,IAAI,CAAC,SAACC,GAAG,CAAK,CACbN,aAAa,CAACM,GAAG,CAAC,CACpB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAEF,KAAK,CAAC,CACtD,CAAC,CAAC,CACN,CACF,CAAC,CAED,GAAMG,YAAW,6FAAG,iBAAOC,KAAK,kKAETtB,UAAS,CAACsB,KAAK,CAAC,QAA7BC,IAAI,eACVJ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEG,IAAI,CAAC,CAC1Bf,SAAS,CAACe,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,OAAO,CAAC,CAAC,+EAEzBL,OAAO,CAACC,GAAG,CAAC,qBAAqB,aAAQ,CAAC,mEAE7C,kBARKC,YAAW,6CAQhB,CAEDxB,SAAS,CAAC,UAAM,CACdwB,WAAW,CAACjB,IAAI,CAAC,CACnB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV,mBACE,aAAK,SAAS,CAAC,eAAe,wBAC5B,WAAI,SAAS,CAAC,YAAY,UAAED,KAAK,EAAM,cACvC,YAAK,SAAS,CAAC,WAAW,UACvBI,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEkB,GAAG,CAAC,SAACb,KAAK,CAAK,CACtB,mBACE,YACE,SAAS,sBAAgBP,OAAO,EAAI,kBAAkB,CAAG,CACzD,OAAO,CAAE,yBAAMM,cAAa,CAACC,KAAK,CAAC,EAAC,CAEpC,GAAG,WAAKX,SAAS,SACfI,OAAO,CAAGO,KAAK,CAACc,aAAa,CAAGd,KAAK,CAACe,WAAW,CAChD,CACH,GAAG,CAAEf,KAAK,CAACC,IAAK,EAJXD,KAAK,CAACgB,EAAE,CAKR,CAEX,CAAC,CAAC,EACE,CACLnB,UAAU,eAAI,KAAC,WAAW,EAAC,GAAG,CAAEA,UAAW,CAAC,OAAO,CAAE,IAAK,EAAG,GAC1D,CAEV,CAEA,cAAeP,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}